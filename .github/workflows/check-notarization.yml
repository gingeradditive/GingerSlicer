name: Check Notarization Status

on:
  workflow_dispatch:
    inputs:
      submission_id:
        description: "Submission ID da controllare"
        required: true

jobs:
  check-status:
    runs-on: macos-latest

    steps:
      - name: Check notarization status
        run: |
          xcrun notarytool status \
            ${{ github.event.inputs.submission_id }} \
            --apple-id "${{ secrets.APPLE_DEV_ACCOUNT }}" \
            --team-id "${{ secrets.TEAM_ID }}" \
            --password "${{ secrets.APP_PWD }}" \
            --output-format json
